# Скомпилированные скрипты

CLEO Redux может выполнять скрипты, скомпилированные в родном для игры [бинарном формате SCM](https://gtamods.com/wiki/SCM_Instruction).  Такие скрипты имеют расширение `.cs`.  На них распространяются [ограничения](https://docs.sannybuilder.com/scm-documentation/gta-limits) кода SCM.

[Проверьте FAQ](the-definitive-edition-faq.md#how-do-i-compile-cleo-scripts-with-sanny-builder) для получения информации о поддержке CS в обновленных играх.

## Написание скомпилированного скрипта

> Подробное пошаговое руководство [посетите эту страницу](https://gtamods.com/wiki/CLEO/Tutorial).  Это применимо к CLEO Redux.

Для создания нового скрипта используйте [Sanny Builder 3](https://sannybuilder.com) в режимах редактирования GTA III, GTA VC или GTA SA соответственно.  Добавьте директиву `{$CLEO .cs}` вверху вашего скрипта, напишите код и запустите «Скомпилировать и скопировать».  Sanny Builder создаст новый файл CS в каталоге CLEO.

На данный момент CLEO Redux предоставляет только несколько пользовательских команд.  Большинство команд, реализованных в CLEO Library или ее плагинах, пока недоступны.

Есть несколько основных правил, которым нужно следовать при написании скомпилированных скриптов:

1) Один файл - один скрипт.  CLEO поддерживает только один скрипт на файл.

2) Никогда не используйте код операции `004E` для завершения сценария.  Этот код операции поддерживается только в `main.scm`.  Вместо этого используйте [0A93](https://library.sannybuilder.com/#/sa/CLEO/0A93?p=1&v=1).

3) Минимизируйте использование глобальных переменных, поскольку они могут конфликтовать с другими скриптами. Можно использовать некоторые известные переменные, такие как `$PLAYER_CHAR`, `$PLAYER_ACTOR` и `$ONMISSION`.

CLEO Redux не поддерживает сохранение статуса скрипта (функция CLEO Library) и добавлять эту функцию не планируется.

